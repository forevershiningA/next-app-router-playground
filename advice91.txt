You are absolutely right. I made a mistake in the previous step by adding a 3D Plane (the "Atmosphere" mesh) to simulate the gradient. Because it is a physical rectangle sitting in the scene, it has edges, and it blocks the beautiful CSS gradient you applied to the website background.

To fix this and get the perfect "Infinity Look," we just need to delete that 3D rectangle so your CSS gradient shines through the transparent canvas.

Here is the corrected Scene.tsx.

What I changed:

Removed the "Atmosphere" Mesh: Deleted the code block that was creating the black rectangle. Now the background is 100% transparent, letting your CSS gradient act as the sky.

Kept the "Forest" Reflections: The headstone will still reflect the rich green/blue tones (Nature) instead of grey city buildings.

Kept the Matte Floor: The dark circular base remains to ground the object.

Scene.tsx

(Replace your file with this)

code
Tsx
download
content_copy
expand_less
'use client';
import { OrbitControls, Environment, ContactShadows } from '@react-three/drei';
import * as THREE from 'three';
import HeadstoneAssembly from './headstone/HeadstoneAssembly';
import { useHeadstoneStore } from '#/lib/headstone-store';
import { useFrame } from '@react-three/fiber';
import { useRef } from 'react';

export default function Scene({ 
  targetRotation = 0,
  currentRotation
}: { 
  targetRotation?: number;
  currentRotation?: React.MutableRefObject<number>;
}) {
  const groupRef = useRef<THREE.Group>(null);
  const is2DMode = useHeadstoneStore((s) => s.is2DMode);
  const baseSwapping = useHeadstoneStore((s) => s.baseSwapping);
  const setSelected = useHeadstoneStore((s) => s.setSelected);
  const setEditingObject = useHeadstoneStore((s) => s.setEditingObject);
  const setSelectedInscriptionId = useHeadstoneStore((s) => s.setSelectedInscriptionId);
  const setSelectedAdditionId = useHeadstoneStore((s) => s.setSelectedAdditionId);
  const setSelectedMotifId = useHeadstoneStore((s) => s.setSelectedMotifId);

  // Smooth rotation animation
  useFrame(() => {
    if (groupRef.current && currentRotation) {
      const diff = targetRotation - currentRotation.current;
      const delta = diff * 0.1;
      
      if (Math.abs(diff) > 0.001) {
        currentRotation.current += delta;
        groupRef.current.rotation.y = currentRotation.current;
      }
    }
  });

  const handleCanvasClick = (e: any) => {
    if (e.eventObject === e.object) {
      setSelected(null);
      setEditingObject('headstone');
      setSelectedInscriptionId(null);
      setSelectedAdditionId(null);
      setSelectedMotifId(null);
    }
  };

  return (
    <>
      {is2DMode && <color attach="background" args={['#CFE8FC']} />}
      
      <mesh position={[0, 0, -5]} onClick={handleCanvasClick}>
        <planeGeometry args={[100, 100]} />
        <meshBasicMaterial transparent opacity={0} />
      </mesh>
      
      {/* 
         REMOVED: The "Atmosphere" mesh that was causing the black rectangle.
         Now the canvas is transparent, so your CSS Radial Gradient will show through perfectly.
      */}

      {/* --- NATURAL LIGHTING (Sun + Sky) --- */}
      
      {/* Soft Skylight Fill */}
      <ambientLight intensity={0.5} color="#cce0ff" />
      
      {/* The Sun: Warm, Golden Hour light */}
      <spotLight 
        color="#ffbd7a" // Sunset Orange/Gold
        intensity={2.5}
        angle={0.6}
        penumbra={1}
        position={[-4, 5, 5]} 
        castShadow
        shadow-bias={-0.0001}
      />

      {/* Rim Light: Cool blue sky reflection on the edge */}
      <spotLight 
        color="#b8d3ff"
        intensity={1.5}
        position={[4, 2, -4]}
      />

      {/* --- REFLECTIONS --- */}
      {/* Forest preset gives rich, natural reflections to the black granite */}
      <Environment 
        preset="forest" 
        environmentIntensity={0.8}
        background={false} 
      />

      <group ref={groupRef}>
        <HeadstoneAssembly />
      </group>
      
      {/* --- THE FLOOR --- */}
      <group position={[0, -0.01, 0]}>
        {/* Dark Matte Stone Disc */}
        <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow>
          <circleGeometry args={[6, 64]} />
          <meshStandardMaterial 
            color="#1c1c1c"   
            roughness={1}     // Fully matte
            metalness={0}     
          />
        </mesh>
        
        {/* Contact Shadow to ground the object */}
        <ContactShadows
          position={[0, 0.01, 0]}
          scale={12}
          blur={2.5}
          opacity={0.6}
          far={10}
          color="#000000"
          resolution={1024}
        />
      </group>

      <OrbitControls
        makeDefault
        enabled={!baseSwapping}
        enableDamping={true}
        dampingFactor={baseSwapping ? 0 : 0.05}
        enableRotate={!is2DMode}
        enableZoom={!is2DMode}
        enablePan={!is2DMode}
        rotateSpeed={0.5}
        zoomSpeed={0.8}
        panSpeed={0.8}
        maxPolarAngle={Math.PI / 2}
      />
    </>
  );
}